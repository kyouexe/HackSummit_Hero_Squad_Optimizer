# 🛡️ Hero Squad Optimizer

Welcome to the **Hero Squad Optimizer**, a web application designed to help Dungeons & Dragons players strategically plan their party composition and optimize their actions for various in-game encounters.  

This tool leverages a **dual machine learning architecture** to provide both predictive success rates and creative, turn-by-turn strategic advice.  

➡️ **Live Demo:** [Hero Squad Optimizer](https://v0-hero-squad-optimizer.vercel.app/)

---

## ✨ Features

- 🧙‍♂️ **Dynamic Party Creation**: Create and manage a party of up to four characters, customizing their names, classes, and stats.  
- 📊 **Stat Allocation System**: Distribute a pool of 80 points across six core stats (Strength, Agility, Mana, etc.) for each character.  
- 🐉 **Encounter Selection**: Choose from a variety of pre-defined adventures, each with a unique difficulty and theme.  
- 🤖 **AI-Powered Analysis**: Get a comprehensive strategic breakdown for your party against the chosen encounter.  
- 📈 **Predictive Success Chance**: View a percentage-based prediction of your party's likelihood of success, powered by a custom-trained neural network.  
- ✍️ **Generative Action Recommendations**: Receive creative, class-specific action recommendations for the current character’s turn, generated by the Google Gemini model.  

---

## 🧠 How It Works: The Dual ML Architecture

The app’s core is a unique **dual-model backend** that combines prediction and creativity. Both are handled inside a single Next.js API route (`/api/analyze`).

### 1. Predictive Analysis (TensorFlow.js)
- **Purpose**: Answers *“Numerically, what is our chance of success?”*  
- **Technology**: Sequential neural network with TensorFlow.js.  
- **Training**: Offline training with `scripts/train-model.ts` using a dataset (`data/training_dataset.json`) of historical party outcomes.  
- **Process**: Party data is encoded into a numerical vector → fed into the pre-trained model → outputs an instant prediction.

### 2. Generative Strategy (Google Gemini)
- **Purpose**: Answers *“Creatively, what should we do right now?”*  
- **Technology**: Google Gemini Large Language Model (LLM).  
- **Process**: Backend builds a detailed text prompt (class, stats, encounter details) → Gemini API returns strategic and thematic actions.  

Together, **TensorFlow.js provides the “what”**, while **Gemini provides the “how.”**

---

## 🛠️ Tech Stack

- **Frontend**: Next.js, React, TypeScript, Tailwind CSS  
- **UI Components**: shadcn/ui, Lucide Icons  
- **Backend**: Next.js API Routes  
- **Machine Learning**:  
  - Predictive: TensorFlow.js  
  - Generative: Google Gemini API  
- **Deployment**: Vercel  

---

## 📂 Project Structure

~~~
├── /public/ # Static assets (images, music)
├── /src/
│ ├── /app/
│ │ ├── /api/analyze/route.ts # Core backend API (ML integration)
│ │ └── page.tsx # Main frontend UI
├── /data/
│ └── training_dataset.json # Dataset for TensorFlow.js model
├── /models/ # Trained TF.js model files
├── /scripts/
│ └── train-model.ts # Offline training script
└── README.md

~~~

## 🚀 Getting Started Locally

To run this project on your local machine, follow these steps:

1.  *Clone the repository*:
~~~
    bash
    git clone https://github.com/your-username/v0-hero-squad-optimizer.git
    cd v0-hero-squad-optimizer
~~~

2.  *Install dependencies*:
~~~
    bash
    npm install
~~~    

3.  *Set up environment variables*:
    Create a file named .env.local in the root of the project and add your Google Gemini API key:

~~~    
    GEMINI_API_KEY=your_api_key_here
~~~   

4.  *(Optional) Train the model*:
    If you make changes to the dataset, you can retrain the TensorFlow.js model by running:
~~~
    bash
    npx ts-node --project tsconfig.scripts.json scripts/train-model.ts
~~~    

5.  *Run the development server*:
~~~
    bash
    npm run dev
~~~    

Open [http://localhost:3000](https://www.google.com/search?q=http://localhost:3000) in your browser to see the result.
